Object.assign?0:Object.assign=function(r,t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])}return r},Object.keys?0:Object.keys=function(r){var t=[];for(var e in r)r.hasOwnProperty(e)&&t.push(e);return t},Object.values=function(r){var t=[];for(var e in r)r.hasOwnProperty(e)&&t.push(r[e]);return t},Object.isEmpty=function(r){return r&&"object"==typeof r?!Object.keys(r).length:!r};
/*
 * c 2016.04.01
 * u 2017.11.29
 * wushufen: 404315887@qq.com
 */
!function(){function t(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function n(r,e,i){if(i=i||0,i>10)return!1;if(r===e)return!0;if(!("object"==typeof r&&null!==r||"object"==typeof e&&null!==e))return String(r)===String(e);if("array"==t(r)&&"array"==t(e)){if(r.length!=e.length)return!1;for(var h=0,o=e.length;o>h;h++)if(!n(r[h],e[h],i+1))return!1;return!0}if("object"==t(r)&&"object"==t(e)){if(!Object.keys(r).length&&!Object.keys(e).length)return!0;var u=!1;for(var s in e)if(s in r&&(u=!0,!n(r[s],e[s],i+1)))return!1;return u}return!1}Array.range=function(t,n,r){void 0==n&&(n=t,t=0),r=r||1;for(var e=[],i=0;!0;i++){var h=t+i*r;if(h>=n)break;e[i]=h}return e},Object.defineProperty&&Object.defineProperty(Array.prototype,"__noforin__",{configurable:!0,enumerable:!0,get:function(){return console.warn("勿用 for...in 遍历数组"),console.trace(),"__noforin__"}});var r={forEach:function(t,n){for(var r=0,e=this.length;e>r&&r<this.length;r++)t.call(n,this[r],r,this)},map:function(t,n){var r=[];return this.forEach(function(e){r.push(t.apply(n,arguments))}),r},fliter:function(t,n){var r=[];return this.forEach(function(e){t.apply(n,arguments)&&r.push(e)}),r},indexOf:function(t,n){var r=n||0;r=0>r?this.length+r:r;for(var e=this.length-1,i=r;e>=i;i++)if(this[i]===t)return i;return-1},lastIndexOf:function(t,n){var r=0,e=n||this.length-1;e=0>e?this.length+e:e;for(var i=e;i>=r;i--)if(this[i]===t)return i;return-1},includes:function(t,n){return-1!=this.indexOf(t,n)}};for(var e in r)Array.prototype[e]=r[e];Object.isMatch=n;var i={each:function(t,n){return this.forEach.apply(this,arguments),this},select:function(t,r){for(var e=[],i=0,h=this.length;h>i;i++){var o=this[i];if(n(o,t)&&(e.push(o),r))break}return e},get:function(t){return this.select(t,!0)[0]||!1},getIndex:function(t){for(var r=0,e=this.length;e>r;r++){var i=this[r];if(n(i,t))return r}return-1},has:function(t){var n=arguments;1==arguments.length&&t&&t.length&&(n=t);for(var r=!0,e=0;e<n.length;e++){var i=n[e];if(!this.select(i).length){r=!1;break}}return r},insert:function(t,n){return n=void 0===n?this.length:n,this.splice.apply(this,[n,0].concat(t)),this},insertIndex:function(t,n){},ensure:function(t){t=Array.isArray(t)?t:[t];for(var n=0;n<t.length;n++){var r=t[n];this.has(r)||this.push(r)}return this},update:function(r,e){if(!e){e=r;var i=!0}for(var h=0,o=this.length;o>h;h++){var u=this[h];if(i||n(u,r))if("object"==t(u)&&"object"==t(e))for(var s in e)e.hasOwnProperty(s)&&(u[s]=e[s]);else this[h]=e}return this},updateIndex:function(t,n){},empty:function(){return this.splice(0),this},remove:function(t){if(0==arguments.length)return this.empty();var r=arguments;1==arguments.length&&t&&t.length&&(r=t);for(var e=0,i=this.length;i>e;e++)for(var h=this[e],o=0;o<r.length;o++){var u=r[o];n(h,u)&&(this.splice(e,1),e--,i--)}return this},removeIndex:function(t){return this.splice(t,1),this},orderBy:function(t,n){return this.sort(function(r,e){return r=t?r[t]:r,e=t?e[t]:e,n?e>r?1:r==e?0:-1:r>e?1:r==e?0:-1})},groupBy:function(t){for(var n={},r=0;r<this.length;r++){var e=this[r],i=e[t],h=n[i]||(n[i]=[]);h.push(e)}return n},groupCount:function(t){return Object.keys(this.groupBy(t)).length},fields:function(){for(var t={},n=0;50>n&&!(n>this.length-1);n++){var r=40>n?n:parseInt(Math.random()*(this.length-40))+40,e=this[r];for(var i in e)e.hasOwnProperty(i)&&(t[i]=1)}return Object.keys(t)},column:function(t){return this.map(function(n){return n[t]})},page:function(t,n){n=n||10;var r=(t-1)*n;0>t&&(r=t*n);var e=r+n;return-1==t&&(e=void 0),this.slice(r,e)},pageCount:function(t){return Math.ceil(this.length/(t||10))},top:function(t){return this.slice(0,t)},limit:function(t,n){return this.slice(t,t+n)},nth:function(t){return t>=0?this[t]:this[this.length+t]},first:function(){return this[0]},last:function(){return this[this.length-1]},unique:function(){for(var t=this.length,r=0;t>r;r++)for(var e=r+1;t>e;e++)n(this[r],this[e])&&(this.splice(e--,1),t--);return this},eq:function(t){return this.length==t.length&&this.has(t)&&t.has(this)},same:function(t){for(var n=[],r=0,e=this.length;e>r;r++){var i=t[r];this.has(i)&&n.push(i)}return n},xor:function(t){return this.copy().remove(t).concat(t.copy().remove(this))},max:function(t){if(arguments.length){var n=this[0];return this.each(function(r){r[t]>n[t]&&(n=r)}),n}return Math.max.apply(Math,t?this.column(t):this)},min:function(t){if(arguments.length){var n=this[0];return this.each(function(r){r[t]<n[t]&&(n=r)}),n}return Math.min.apply(Math,t?this.column(t):this)},sum:function(t){for(var n=t?this.column(t):this,r=0,e=0,i=this.length;i>e;e++){var h=n[e];isNaN(h)||(r+=+h)}return r},avg:function(t){return this.sum(t)/this.length},copy:function(){return this.concat()},shuffle:function(){return this.sort(function(t,n){return Math.random()-.5})},random:function(t,n){t=t||0,n=n||this.length-1;var r=parseInt(Math.random()*(n-t+1)+t);return this[r]},toMap:function(t){for(var n={},r=0,e=this.length;e>r;r++){var i=this[r],h=i[t];n[h]=i}return n},key:function(t){var n=this[0];return n?n[t]:void 0}};i.where=i.select,i["delete"]=i.remove,i.del=i.remove,i.difference=i.remove,i.without=i.remove,i.deleteIndex=i.removeIndex,i.delIndex=i.removeIndex,i.col=i.column,i.contains=i.has,i.add=i.insert,i.union=i.ensure,i.uniq=i.unique;for(var e in i)Array.prototype[e]=i[e]}();
/*
 * c 2016.04.01
 * u 2017.11.29
 * wushufen: 404315887@qq.com
 */
Date.prototype.format=function(t){t=t||"yyyy-MM-dd HH:mm:ss";var e=this,r={y:e.getFullYear(),M:e.getMonth()+1,d:e.getDate(),H:e.getHours(),h:function(){var t=e.getHours();return t>12?t-12:t}(),m:e.getMinutes(),s:e.getSeconds(),S:e.getMilliseconds()};for(var n in r)t=t.replace(RegExp(n+"+","g"),function(t){var e=r[n]+"",o=(Array(t.length).join(0)+e).slice(-t.length);return e.length>o.length?e:o});return t.replace(/E+/g,function(){return String(e).match("中国")?"星期"+"日一二三四五六".charAt(e.getDay()):"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")[e.getDay()]})},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(t){return t?this.format(t):this._toString()},"FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds,Time".replace(/\w+/g,function(t){Date.prototype["add"+t]=function(e){return this["set"+t](this["get"+t]()+e),this},Date.prototype[t.toLowerCase()]=function(e){return void 0===e?this["get"+t]():(this["set"+t](e),this)},Date.prototype["diff"+t]=function(e){this.getTime()-e.getTime();return this["get"+t]()-e["get"+t]()}}),Date.prototype.diff=function(t,e){var r=this,e=e||"d天HH时mm分ss秒SSS",n=r-t,o={y:31536e6,M:2592e6,d:864e5,H:36e5,h:36e5,m:6e4,s:1e3,S:1},a="yMdHhmsS".split("");if(e.match(/^[yMdHhmsS]$/))return n/o[e];for(var i={},g=n,s=0;s<a.length;s++){var u=a[s],h=o[u];if(e.match(u)){var l=parseInt(g/h);g-=l*h,i[u]=l}}var c=e;for(var u in i)c=c.replace(RegExp(u+"+","g"),function(t,e){var r=i[t.substr(0,1)]+"",n=Array(4).join("0")+r;return n=n.substr(-t.length),r=r.length>t.length?r:n});return c},Date.yesterday=function(t){return t=t||new Date,new Date(t.getFullYear(),t.getMonth(),t.getDate()-1)},Date.today=function(t){return t=t||new Date,new Date(t.getFullYear(),t.getMonth(),t.getDate())},Date.tomorrow=function(t){return t=t||new Date,new Date(t.getFullYear(),t.getMonth(),t.getDate()+1)};
/*
 * c 2016.04.01
 * u 2017.11.29
 * wushufen: 404315887@qq.com
 */
String.trim=function(t){return null===t||void 0===t?"":String(t).replace(/^\s+|\s+$/g,"")},String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.tpl=function(t,n){var r=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/(<%=|{{)([\s\S]*?)(}}|%>)/g,"$1_html_+= ($2)\n$3").replace(/(<%)(?!=)([\s\S]*?)(%>)/g,"$1\n	$2\n$3").replace(/(^|%>|%>|}})([\s\S]*?)({{|<%=|<%|$)/g,function(t,n,r,e){return'_html_+= "'+r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\r?\n/g,"\\n")+'"\n'});return r=Function("data",'with(data||{}){\nvar _html_=""\n'+r+"\nreturn _html_\n}"),n?r(n):r},String.prototype.tpl=function(t){return String.tpl(this,t)};
/*
 * c 2016.04.01
 * u 2017.11.29
 * wushufen: 404315887@qq.com
 */
Number.random=function(r,t,n){var e=Math.random()*(t-r+(n?0:1))+r;return n?e:parseInt(e)},!function(){function r(r,t,n){var e=(String(r).split(".")[1]||"").length,i=(String(n).split(".")[1]||"").length,a=Math.max(e,i),u=Math.pow(10,a),c=+(String(r).replace(".","")+Array(a-e+1).join(0)),o=+(String(n).replace(".","")+Array(a-i+1).join(0));switch(t){case"+":return(c+o)/u;case"-":return(c-o)/u;case"*":return c*o/(u*u);case"/":return c/o}}var t=Number.prototype;"+-*/".replace(/./g,function(n){t[n]=function(t){return r(this,n,t)}}),t.add=t["+"],t.subtrack=t["-"],t.multiply=t["*"],t.divide=t["/"],t.fixed=function(r){return+this.toFixed(r||10)}}();
/*
 * c 2016.04.01
 * u 2017.11.29
 * wushufen: 404315887@qq.com
 */
Object.getType=function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},Object.isType=function(t,e){t=t.toLowerCase(),_type=Object.getType(e);var n=t==_type;return n&&"date"==t&&(n=!isNaN(e.getTime())),n},String.toString=function(t){return t+""},Number.toNumber=function(t){var e=Number(t);return e=isNaN(e)?Number(String(t).match(/\d+/)):e,e=isNaN(e)?+t:e},Number.toInt=function(t){var e=parseInt(t);return e=isNaN(e)?+t:e,isNaN(e)?0:e},Number.isInt=function(t){return"number"==typeof t&&!String(t).match(/\.|NaN|Infinity/)},Number.isNaN=function(t){return"number"==typeof t&&isNaN(t)},Boolean.toBoolean=function(t){return"true"==t?!0:"false"==t?!1:!!t},Object.toObject=function(t){return Object(t)},Array.toArray=function(t){if(t&&void 0!=t.length){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}return[t]},Array.isArrayLike=function(t){return"length"in Object(t)},Date.toDate=function(t){return t=String(t).replace(/-/g,"/"),t=t.replace(/年|月/g,"/").replace("日"," "),new Date(t)},RegExp.toRegExp=function(t){return RegExp(t)},Function.toFunction=function(t){try{return Function(t)}catch(e){return function(){}}},!function(){Object.isNull=function(t){return Object.isType("null",t)},Object.isUndefined=function(t){return Object.isType("undefined",t)};for(var t=[String,Number,Boolean,Object,Array,Date,RegExp,Function],e=0;e<t.length;e++)!function(){var n=t[e],r=n.name;n["is"+r]||(n["is"+r]=function(t){return Object.isType(r,t)}),Object["is"+r]=n["is"+r];for(var i=0;i<t.length;i++)!function(){var e=t[i],r=(e.name,"to"+e.name);n==Object||n.prototype[r]||(n.prototype[r]=function(){return e[r](this.valueOf())})}();n!=Object&&(n.prototype.toInt=n.prototype.parseInt=function(){return Number.toInt(this)}),n!=Object&&(n.prototype.isNaN=function(){return isNaN(this)})}()}();